<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<!--Page Content-->
<th:block layout:fragment="contents">
    <!-- 1. 인증(로그인) 상태가 아닐 경우 회원 가입 입력 화면 보여줌-->
    <span sec:authorize="isAnonymous()">
        <div class="container">
            <form>
                <div class="form-group">
                    <label for="username">Username:</label>
                    <input type="text" id="username" name="username" class="form-control" placeholder="Enter username" oninput="checkUsername()" required>
                </div>
                <div style="font-size:15px;">
                    <span class="username_ok">사용 가능합니다.</span>
                    <span class="username_already">이미 사용 중입니다. 다른 이름을 입력하세요.</span>
                </div>
                <div class="form-group">
                    <label for="password">Password:</label>
                    <input type="password" id="password" name="password" class="form-control" placeholder="Enter password" required>
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" class="form-control" placeholder="Enter email" required>
                </div>
            </form>
            <br>
            <button id="btn-save" class="btn btn-primary btn-sm">SignUp</button>
        </div>
    </span>
    <!-- 2. 인증(로그인) 상태일 경우 홈화면으로 즉시 이동시킴-->
    <span sec:authorize="isAuthenticated()">
        <meta http-equiv="refresh" content="0;url=/">
    </span>
    <script th:src="@{/js/user.js}"></script>
</th:block>
</html>